{% extends "base.html" %}

{% block title %}
    {% if subject %}
        {{ subject.title }} Uncle-Engineer-Lab 
    {% else %}
        Uncle-Engineer-Lab คอร์สเรียนทั้งหมด
    {% endif %}
{% endblock %}

{% block content %}
<h1>
    {% if subject %}
        {{ subject.title }} courses
    {% else %}
        All courses
    {% endif %}
</h1>

<section class="section gb nopadtop">
        <div class="container">
            <div class="row">
                <div class="col-md-3">
                    <div class="box m30">
                        <i class="flaticon-computer-tool-for-education"></i>
                        <h4>หมวดหมู่</h4>
                        <p></p>
                        <ul id="modules">
                                <li {% if not subject %}class="selected"{% endif %}>
                                    <a href="{% url "course_list" %}">All</a>
                                </li>
                                {% for s in subjects %}
                                    <li {% if subject == s %}class="selected"{% endif %}>
                                        <a href="{% url "course_list_subject" s.slug %}">
                                            {{ s.title }}
                                            <br><span>{{ s.total_courses }} courses</span>
                                        </a>
                                    </li>
                                {% endfor %}
                        </ul>
                    </div>
                </div><!-- end col -->

                <div class="col-md-9">
                    <div class="box m30">
                        <i class="flaticon-monitor-tablet-and-smartohone"></i>
                        <h4>คอร์สเรียน</h4>
                        <p></p>
                        {% for course in courses %}
        {% with subject=course.subject %}
            <h3><a href="{% url "course_detail" course.slug %}">
            {{ course.title }}</a></h3>
            <p>
                <a href="{% url "course_list_subject" subject.slug %}">
                {{ subject }}</a>.
                {{ course.total_modules }} modules.
                Instructor: {{ course.owner.get_full_name }}
            </p>
        {% endwith %}
    {% endfor %}
                    </div>
                </div><!-- end col -->


            <hr class="invis">

        </div><!-- end container -->
    </section>
{% endblock %}